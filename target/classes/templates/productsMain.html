<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=0.6">

  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>

  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.0/slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.0/slick/slick-theme.css"/>


  <link rel="icon" type="image/ico" href="https://www.vapeshifter.ru/favicon.ico">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">
  <title>Каталог - VapeShifter</title>
  <meta name="description" content="Одноразки, поды, жижи, картриджи, испарители в розницу и оптом с доставкой по всей России"/>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(92179338, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
  <noscript><div><img src="https://mc.yandex.ru/watch/92179338" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->


</head>

<style>
   .scale {
    display: inline-block; /* Строчно-блочный элемент */
    overflow: hidden; /* Скрываем всё за контуром */
   }
   .scale img {
    transition: 1s; /* Время эффекта */
    display: block; /* Убираем небольшой отступ снизу */
   }
   .scale img:hover {
    transform: scale(1.2); /* Увеличиваем масштаб */
   }

   .loader {
          border: 16px solid #f3f3f3; /* Light grey */
          border-top: 16px solid #3498db; /* Blue */
          border-radius: 50%;
          width: 75px;
          height: 75px;
          animation: spin 2s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
  </style>
<!--zoom:90%-->
<body style="margin-top:70px; background-color:#eeeeee; ">
<header th:insert="blocks/header :: Header" ></header>

<div style="align:center;" align="center">
  <div class="justify-content-center" style="background-color:#212529; width:100%; position: fixed; top: 60px; align:center;z-index:10;" align="center" >
    <div align="center">

      <div align="center"  style="width:50%; margin-top:3px;">


        <div th:if="${!opt}" >
          <div style=" display:inline-block; width:80%;" >
            <input th:value="${sparamalready}" onchange="window.location.href = '/products/search?sparam='+document.getElementById('sparamrozn').value;" type="search" id="sparamrozn" class="form-control" placeholder="Поиск по розничному каталогу..." >
          </div>

          <div style="display:inline-block">
            <button onclick="window.location.href = '/products/search?sparam='+document.getElementById('sparamrozn').value;" class="btn btn-primary" >
               <span class="material-symbols-outlined">
                   search
               </span>
            </button>
          </div>

        </div>


        <div th:if="${opt}" >
          <div style=" display:inline-block; width:80%;" >
            <input th:value="${sparamalready}" onchange="window.location.href = '/products/opt/search?sparam='+document.getElementById('sparamopt').value;" type="search" id="sparamopt" class="form-control" placeholder="Поиск по оптовому каталогу..." >
          </div>

          <div style="display:inline-block">
            <button onclick="window.location.href = '/products/opt/search?sparam='+document.getElementById('sparamopt').value;" class="btn btn-primary">
               <span class="material-symbols-outlined">
                   search
               </span>
            </button>
          </div>
        </div>

      </div>

    </div>
    <div style="height:5px"> </div>

    <a th:if="${productstype1size>0 && opt==false}" class="nav-link"  href="/products/odnoraz" style="color:#cccccc; display:inline-block">
                                <span style="vertical-align:text-top" class="material-symbols-outlined">
                            vaping_rooms
                            </span>
      <span style="vertical-align:text-top">
                                    Одноразки
                                </span>
    </a>

    <a th:if="${productstype5size>0 && opt==false}" class="nav-link"  href="/products/pod" style="color:#cccccc; display:inline-block">
                                                    <span style="vertical-align:text-top" class="material-symbols-outlined">
                                                air_freshener
                                                </span>
      <span style="vertical-align:text-top">
                                                        Pod-системы
                                                    </span>
    </a>

    <a th:if="${productstype2size>0 && opt==false}" class="nav-link"  href="/products/jija" style="color:#cccccc; display:inline-block">
                                <span style="vertical-align:text-top" class="material-symbols-outlined">
                            pediatrics
                            </span>
      <span style="vertical-align:text-top">
                                    Жидкости
                                </span>
    </a>

    <a th:if="${productstype3size>0 && opt==false}" class="nav-link"  href="/products/cartridge" style="color:#cccccc; display:inline-block">
                                        <span style="vertical-align:text-top" class="material-symbols-outlined">
                                    place_item
                                    </span>
      <span style="vertical-align:text-top">
                                            Картриджи
                                </span>
    </a>

    <a th:if="${productstype4size>0 && opt==false}" class="nav-link"  href="/products/ispar" style="color:#cccccc; display:inline-block">
                                        <span style="vertical-align:text-top" class="material-symbols-outlined">
                                    water_heater
                                    </span>
      <span style="vertical-align:text-top">
                                            Испарители
                                </span>
    </a>


    <a th:if="${productstype1size>0 && opt==true}" class="nav-link"  href="/products/opt/odnoraz" style="color:#cccccc; display:inline-block">
                                                    <span style="vertical-align:text-top" class="material-symbols-outlined">
                                                vaping_rooms
                                                </span>
      <span style="vertical-align:text-top">
                                                        Одноразки
                                                    </span>
    </a>

    <a th:if="${productstype5size>0 && opt==true}" class="nav-link"  href="/products/opt/pod" style="color:#cccccc; display:inline-block">
                                                                        <span style="vertical-align:text-top" class="material-symbols-outlined">
                                                                    air_freshener
                                                                    </span>
      <span style="vertical-align:text-top">
                                                                            Pod-системы
                                                                        </span>
    </a>

    <a th:if="${productstype2size>0 && opt==true}" class="nav-link"  href="/products/opt/jija" style="color:#cccccc; display:inline-block">
                                                    <span style="vertical-align:text-top" class="material-symbols-outlined">
                                                pediatrics
                                                </span>
      <span style="vertical-align:text-top">
                                                        Жидкости
                                                    </span>
    </a>

    <a th:if="${productstype3size>0 && opt==true}" class="nav-link"  href="/products/opt/cartridge" style="color:#cccccc; display:inline-block">
                                                            <span style="vertical-align:text-top" class="material-symbols-outlined">
                                                        place_item
                                                        </span>
      <span style="vertical-align:text-top">
                                                                Картриджи
                                                    </span>
    </a>

    <a th:if="${productstype4size>0 && opt==true}" class="nav-link"  href="/products/opt/ispar" style="color:#cccccc; display:inline-block">
                                        <span style="vertical-align:text-top" class="material-symbols-outlined">
                                    water_heater
                                    </span>
      <span style="vertical-align:text-top">
                                            Испарители
                                </span>
    </a>


    <div style="height:10px"> </div>


  </div>
</div>

<div style="height:110px"></div>

<div align="center" th:if="${curusname=='admin'}">
  <div style="height:30px"></div>
  <a target="_blank" type="button" class="btn btn-success" style="color:#ffffff" href="/products/add">Добавить товар</a>
</div>
<br>

<div align="center">

  <div style="font-size:35px" th:if="${!opt}">
    🛍Розничный каталог
  </div>
  <div style="font-size:35px"  th:if="${opt}">
    📦Оптовый каталог
  </div>

  <div align="center" th:if="${opt==true}">
        <span style="font-size:26px; vertical-align:text-top; color:#ff7b00" class="material-symbols-outlined">
            warning
        </span>
    <span style="vertical-align:text-top">
            <i style="font-size:18px; color:#444444; ">
                Минимальная сумма оптового заказа - 4000 ₽
            </i>
        </span>
    <span style="font-size:26px; vertical-align:text-top; color:#ff7b00" class="material-symbols-outlined">
            warning
        </span>
    <div style="height:15px"></div>
  </div>



    <div id="loader" style="background-color:#dddddd; width:20%" align="center" class="rounded">
        <div style="width:90%">
            <div class="loader"></div>
        </div>
    </div>

  <div class="album py-2" >
      <div class="container" id="catalogdiv" style="display:none">

      <div align="center" class="categorytitle" th:if="${productstype1size>0 && productstype1!=null && mainpage==true}" style="font-size:32px;" >
        <div style="height:10px"> </div>

        <a th:if="${!opt}" style="color:black; text-decoration:none;" href="/products/odnoraz">
          ⚡Одноразки⚡
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <a th:if="${opt}" style="color:black; text-decoration:none;" href="/products/opt/odnoraz">
          ⚡Одноразки⚡
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <div style="height:5px"> </div>
      </div>

      <div th:if="${productstype1!=null}">
        <div th:if="${productstype1.size()!=0 && mainpage==true}" class="autoplay">
          <div th:each="el:${productstype1}" class="col tovary">
            <a th:href="@{/products/{id}(id=${el.getId})}" style="text-decoration:none">
              <div th:id="${'cuntent'+el.getId()}" class="card shadow-sm">

                <!--                            <img loading=lazy th:if="${curusname=='anonymousUser'}" th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="" height="200" width="100%" style="object-fit:contain; filter: blur(5px);"/>-->
                <div class="scale">
                  <img loading=lazy  th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="scale" height="200" width="100%" style="object-fit:contain;"/>
                </div>
                <div class="card-body">
                  <div >
                    <div align="left" class="mb-0" th:text="${el.getTitle()}" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; font-size:17px; color:#222222; "></div>
                    <div style="height:5px"> </div>
                    <div align="left" style="white-space: nowrap;">
                      <div style="display:inline-block;">
                        <h5  class="text-dark mb-0" th:text="${el.getPrice()+' ₽  '}" style="white-space: nowrap;"/>
                      </div>
                      <div th:if="${el.getOldprice()!=null}"  style="color:#FF0000; text-decoration: line-through; display:inline-block;">
                        <span th:text="${el.getOldprice()+' ₽'}" style="font-size:14px; color:#777777; "/>
                      </div>
                    </div>
                    <div align="left" th:if="${el.getQuantity()!=null}">
                      <div th:if="${el.getQuantity()==0}">
                        <i class="mb-0" style="font-size:15px; color:#444444; ">Нет в наличии</i>
                      </div>
                      <div th:if="${el.getQuantity()>0}">
                        <i class="mb-0" th:text="${'В наличии: '+el.getQuantity()+' шт.'}" style="font-size:15px; color:#444444; "></i>
                      </div>
                    </div>

                    <div style="height:3px"> </div>

                    <div align="left" style="font-size:16px; color:#222222;">
                      <div th:text="${commrep.findByZapisAndRating(el, true).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#00d10a; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_up
                                        </span>

                      <div th:text="${commrep.findByZapisAndRating(el, false).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#c40404; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_down
                                        </span>
                    </div>

                    <div style="height:15px"> </div>
                  </div>

                  <a th:if="${el.getQuantity()!=0 && curusname!='anonymousUser'}" type="button" class="btn btn-sm btn-outline-dark" href="#" data-toggle="modal" th:data-target="${'#modalcart'+el.getId().toString()}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                        <span class="material-symbols-outlined" style="font-size:16px;">
                                            shopping_cart
                                        </span>
                    В корзину
                  </a>

                  <a th:if="${el.getQuantity()!=0 && curusname=='anonymousUser' && el.getOptIliRozn()=='rozn'}" th:href="@{/products/{id}/fastorder(id=${el.getId})}" type="button" class="btn btn-sm btn-outline-dark" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                                    <span class="material-symbols-outlined" style="font-size:16px;">
                                                        receipt_long
                                                    </span>
                    Заказать
                  </a>

                  <a type="button" class="btn btn-sm btn-dark" th:href="@{/products/{id}(id=${el.getId})}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px;">
                    Подробнее...
                  </a>

                  <div th:if="${curusname=='admin'}">
                    <div class="dropdown" >
                      <button class="btn btn-outline-dark" type="button" id="dropdownMenuButton1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                 <span class="material-symbols-outlined" style="font-size:14px">
                                                     more_horiz
                                                 </span>
                      </button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                        <a target="_blank" class="dropdown-item" th:href="'/products/'+${el.getId()}+'/edit'">Изменить</a>
                        <a class="dropdown-item" href="#" data-toggle="modal" th:data-target="${'#modal'+el.getId().toString()}">Удалить</a>
                      </div>
                      <div class="modal fade" th:id="${'modal'+el.getId().toString()}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel1">Подтверждение удаления</h5>
                              <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
                              </button>
                            </div>
                            <div class="modal-body" align="center" >
                              Вы уверены что хотите удалить товар? Это действие нельзя отменить
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                              <form th:action="'/products/'+${el.getId()}+'/del'" method="post">
                                <button type="submit" class="btn btn-danger">
                                                                     <span class="material-symbols-outlined" style="font-size:15px">
                                                                     delete
                                                                     </span>Удалить
                                </button>
                              </form>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            <script th:inline="javascript">document.getElementById("cuntent"+"[[${el.getId()}]]").style.display = "block";</script>

          </div>
        </div>
      </div>

      <div align="center" class="categorytitle" th:if="${productstype5size>0 && productstype5!=null && mainpage==true}" style="font-size:32px;" >
        <div style="height:10px"> </div>

        <a th:if="${!opt}" style="color:black; text-decoration:none;" href="/products/pod">
          ⚡Pod-системы⚡
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <a th:if="${opt}" style="color:black; text-decoration:none;" href="/products/opt/pod">
          ⚡Pod-системы⚡
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <div style="height:5px"> </div>
      </div>

      <div th:if="${productstype5!=null}">
        <div th:if="${productstype5.size()!=0 && mainpage==true}" class="autoplay">
          <div th:each="el:${productstype5}" class="col tovary">
            <a th:href="@{/products/{id}(id=${el.getId})}" style="text-decoration:none">
              <div th:id="${'cuntent'+el.getId()}" class="card shadow-sm">

                <!--                            <img loading=lazy th:if="${curusname=='anonymousUser'}" th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="" height="200" width="100%" style="object-fit:contain; filter: blur(5px);"/>-->
                <div class="scale">
                  <img loading=lazy  th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="scale" height="200" width="100%" style="object-fit:contain;"/>
                </div>
                <div class="card-body">
                  <div >
                    <div align="left" class="mb-0" th:text="${el.getTitle()}" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; font-size:17px; color:#222222; "></div>
                    <div style="height:5px"> </div>
                    <div align="left" style="white-space: nowrap;">
                      <div style="display:inline-block;">
                        <h5  class="text-dark mb-0" th:text="${el.getPrice()+' ₽  '}" style="white-space: nowrap;"/>
                      </div>
                      <div th:if="${el.getOldprice()!=null}"  style="color:#FF0000; text-decoration: line-through; display:inline-block;">
                        <span th:text="${el.getOldprice()+' ₽'}" style="font-size:14px; color:#777777; "/>
                      </div>
                    </div>
                    <div align="left" th:if="${el.getQuantity()!=null}">
                      <div th:if="${el.getQuantity()==0}">
                        <i class="mb-0" style="font-size:15px; color:#444444; ">Нет в наличии</i>
                      </div>
                      <div th:if="${el.getQuantity()>0}">
                        <i class="mb-0" th:text="${'В наличии: '+el.getQuantity()+' шт.'}" style="font-size:15px; color:#444444; "></i>
                      </div>
                    </div>
                    <div style="height:3px"> </div>

                    <div align="left" style="font-size:16px; color:#222222;">
                      <div th:text="${commrep.findByZapisAndRating(el, true).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#00d10a; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_up
                                        </span>

                      <div th:text="${commrep.findByZapisAndRating(el, false).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#c40404; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_down
                                        </span>
                    </div>
                    <div style="height:15px"> </div>
                  </div>

                  <a th:if="${el.getQuantity()!=0 && curusname!='anonymousUser'}" type="button" class="btn btn-sm btn-outline-dark" href="#" data-toggle="modal" th:data-target="${'#modalcart'+el.getId().toString()}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                        <span class="material-symbols-outlined" style="font-size:16px;">
                                            shopping_cart
                                        </span>
                    В корзину
                  </a>

                  <a th:if="${el.getQuantity()!=0 && curusname=='anonymousUser' && el.getOptIliRozn()=='rozn'}" th:href="@{/products/{id}/fastorder(id=${el.getId})}" type="button" class="btn btn-sm btn-outline-dark" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                                    <span class="material-symbols-outlined" style="font-size:16px;">
                                                        receipt_long
                                                    </span>
                    Заказать
                  </a>

                  <a type="button" class="btn btn-sm btn-dark" th:href="@{/products/{id}(id=${el.getId})}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px;">
                    Подробнее...
                  </a>

                  <div th:if="${curusname=='admin'}">
                    <div class="dropdown" >
                      <button class="btn btn-outline-dark" type="button" id="dropdownMenuButton6" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                 <span class="material-symbols-outlined" style="font-size:14px">
                                                     more_horiz
                                                 </span>
                      </button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton6">
                        <a target="_blank" class="dropdown-item" th:href="'/products/'+${el.getId()}+'/edit'">Изменить</a>
                        <a class="dropdown-item" href="#" data-toggle="modal" th:data-target="${'#modal'+el.getId().toString()}">Удалить</a>
                      </div>
                      <div class="modal fade" th:id="${'modal'+el.getId().toString()}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel7" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel7">Подтверждение удаления</h5>
                              <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
                              </button>
                            </div>
                            <div class="modal-body" align="center" >
                              Вы уверены что хотите удалить товар? Это действие нельзя отменить
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                              <form th:action="'/products/'+${el.getId()}+'/del'" method="post">
                                <button type="submit" class="btn btn-danger">
                                                                     <span class="material-symbols-outlined" style="font-size:15px">
                                                                     delete
                                                                     </span>Удалить
                                </button>
                              </form>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            <script th:inline="javascript">document.getElementById("cuntent"+"[[${el.getId()}]]").style.display = "block";</script>

          </div>
        </div>
      </div>


      <div class="categorytitle" th:if="${productstype2size>0 && productstype2!=null && mainpage==true}"  align="center" style="font-size:32px;">
        <div style="height:10px"> </div>

        <a th:if="${!opt}" style="color:black; text-decoration:none;" href="/products/jija">
          💧Жидкости💧
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <a th:if="${opt}" style="color:black; text-decoration:none;" href="/products/opt/jija">
          💧Жидкости💧
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <div style="height:5px"> </div>
      </div>


      <div th:if="${productstype2!=null}">
        <div th:if="${productstype2.size()!=0 && mainpage==true}" class="autoplay">
          <div th:each="el:${productstype2}" class="col tovary">
            <a th:href="@{/products/{id}(id=${el.getId})}" style="text-decoration:none">
              <div th:id="${'cuntent'+el.getId()}" class="card shadow-sm">

                <!--                            <img loading=lazy th:if="${curusname=='anonymousUser'}" th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="" height="200" width="100%" style="object-fit:contain; filter: blur(5px);"/>-->
                <div class="scale">
                  <img loading=lazy  th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="scale" height="200" width="100%" style="object-fit:contain;"/>
                </div>
                <div class="card-body">
                  <div >
                    <div align="left" class="mb-0" th:text="${el.getTitle()}" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; font-size:17px; color:#222222; "></div>
                    <div style="height:5px"> </div>
                    <div align="left" style="white-space: nowrap;">
                      <div style="display:inline-block;">
                        <h5  class="text-dark mb-0" th:text="${el.getPrice()+' ₽  '}" style="white-space: nowrap;"/>
                      </div>
                      <div th:if="${el.getOldprice()!=null}"  style="color:#FF0000; text-decoration: line-through; display:inline-block;">
                        <span th:text="${el.getOldprice()+' ₽'}" style="font-size:14px; color:#777777; "/>
                      </div>
                    </div>
                    <div align="left" th:if="${el.getQuantity()!=null}">
                      <div th:if="${el.getQuantity()==0}">
                        <i class="mb-0" style="font-size:15px; color:#444444; ">Нет в наличии</i>
                      </div>
                      <div th:if="${el.getQuantity()>0}">
                        <i class="mb-0" th:text="${'В наличии: '+el.getQuantity()+' шт.'}" style="font-size:15px; color:#444444; "></i>
                      </div>
                    </div>
                    <div style="height:3px"> </div>

                    <div align="left" style="font-size:16px; color:#222222;">
                      <div th:text="${commrep.findByZapisAndRating(el, true).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#00d10a; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_up
                                        </span>

                      <div th:text="${commrep.findByZapisAndRating(el, false).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#c40404; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_down
                                        </span>
                    </div>
                    <div style="height:15px"> </div>
                  </div>

                  <a th:if="${el.getQuantity()!=0 && curusname!='anonymousUser'}" type="button" class="btn btn-sm btn-outline-dark" href="#" data-toggle="modal" th:data-target="${'#modalcart'+el.getId().toString()}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                        <span class="material-symbols-outlined" style="font-size:16px;">
                                            shopping_cart
                                        </span>
                    В корзину
                  </a>

                  <a th:if="${el.getQuantity()!=0 && curusname=='anonymousUser' && el.getOptIliRozn()=='rozn'}" th:href="@{/products/{id}/fastorder(id=${el.getId})}" type="button" class="btn btn-sm btn-outline-dark" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                                    <span class="material-symbols-outlined" style="font-size:16px;">
                                                        receipt_long
                                                    </span>
                    Заказать
                  </a>

                  <a type="button" class="btn btn-sm btn-dark" th:href="@{/products/{id}(id=${el.getId})}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px;">
                    Подробнее...
                  </a>

                  <div th:if="${curusname=='admin'}">
                    <div class="dropdown" >
                      <button class="btn btn-outline-dark" type="button" id="dropdownMenuButton7" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                 <span class="material-symbols-outlined" style="font-size:14px">
                                                     more_horiz
                                                 </span>
                      </button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton7">
                        <a target="_blank" class="dropdown-item" th:href="'/products/'+${el.getId()}+'/edit'">Изменить</a>
                        <a class="dropdown-item" href="#" data-toggle="modal" th:data-target="${'#modal'+el.getId().toString()}">Удалить</a>
                      </div>
                      <div class="modal fade" th:id="${'modal'+el.getId().toString()}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel8" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel8">Подтверждение удаления</h5>
                              <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
                              </button>
                            </div>
                            <div class="modal-body" align="center" >
                              Вы уверены что хотите удалить товар? Это действие нельзя отменить
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                              <form th:action="'/products/'+${el.getId()}+'/del'" method="post">
                                <button type="submit" class="btn btn-danger">
                                                                     <span class="material-symbols-outlined" style="font-size:15px">
                                                                     delete
                                                                     </span>Удалить
                                </button>
                              </form>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            <script th:inline="javascript">document.getElementById("cuntent"+"[[${el.getId()}]]").style.display = "block";</script>
          </div>
        </div>
      </div>

      <div class="categorytitle" th:if="${productstype3size>0 && productstype3!=null && mainpage==true}"  align="center" style="font-size:32px;">
        <div style="height:10px"> </div>

        <a th:if="${!opt}" style="color:black; text-decoration:none;" href="/products/cartridge">
          🔋Картриджи🔋
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <a th:if="${opt}" style="color:black; text-decoration:none;" href="/products/opt/cartridge">
          🔋Картриджи🔋
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <div style="height:5px"> </div>
      </div>

      <div th:if="${productstype3!=null}">
        <div th:if="${productstype3.size()!=0 && mainpage==true}" class="autoplay">
          <div th:each="el:${productstype3}" class="col tovary">
            <a th:href="@{/products/{id}(id=${el.getId})}" style="text-decoration:none">
              <div th:id="${'cuntent'+el.getId()}" class="card shadow-sm">

                <!--                            <img loading=lazy th:if="${curusname=='anonymousUser'}" th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="" height="200" width="100%" style="object-fit:contain; filter: blur(5px);"/>-->
                <div class="scale">
                  <img loading=lazy  th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="scale" height="200" width="100%" style="object-fit:contain;"/>
                </div>
                <div class="card-body">
                  <div >
                    <div align="left" class="mb-0" th:text="${el.getTitle()}" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; font-size:17px; color:#222222; "></div>
                    <div style="height:5px"> </div>
                    <div align="left" style="white-space: nowrap;">
                      <div style="display:inline-block;">
                        <h5  class="text-dark mb-0" th:text="${el.getPrice()+' ₽  '}" style="white-space: nowrap;"/>
                      </div>
                      <div th:if="${el.getOldprice()!=null}"  style="color:#FF0000; text-decoration: line-through; display:inline-block;">
                        <span th:text="${el.getOldprice()+' ₽'}" style="font-size:14px; color:#777777; "/>
                      </div>
                    </div>
                    <div align="left" th:if="${el.getQuantity()!=null}">
                      <div th:if="${el.getQuantity()==0}">
                        <i class="mb-0" style="font-size:15px; color:#444444; ">Нет в наличии</i>
                      </div>
                      <div th:if="${el.getQuantity()>0}">
                        <i class="mb-0" th:text="${'В наличии: '+el.getQuantity()+' шт.'}" style="font-size:15px; color:#444444; "></i>
                      </div>
                    </div>
                    <div style="height:3px"> </div>

                    <div align="left" style="font-size:16px; color:#222222;">
                      <div th:text="${commrep.findByZapisAndRating(el, true).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#00d10a; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_up
                                        </span>

                      <div th:text="${commrep.findByZapisAndRating(el, false).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#c40404; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_down
                                        </span>
                    </div>
                    <div style="height:15px"> </div>
                  </div>

                  <a th:if="${el.getQuantity()!=0 && curusname!='anonymousUser'}" type="button" class="btn btn-sm btn-outline-dark" href="#" data-toggle="modal" th:data-target="${'#modalcart'+el.getId().toString()}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                        <span class="material-symbols-outlined" style="font-size:16px;">
                                            shopping_cart
                                        </span>
                    В корзину
                  </a>

                  <a th:if="${el.getQuantity()!=0 && curusname=='anonymousUser' && el.getOptIliRozn()=='rozn'}" th:href="@{/products/{id}/fastorder(id=${el.getId})}" type="button" class="btn btn-sm btn-outline-dark" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                                    <span class="material-symbols-outlined" style="font-size:16px;">
                                                        receipt_long
                                                    </span>
                    Заказать
                  </a>

                  <a type="button" class="btn btn-sm btn-dark" th:href="@{/products/{id}(id=${el.getId})}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px;">
                    Подробнее...
                  </a>

                  <div th:if="${curusname=='admin'}">
                    <div class="dropdown" >
                      <button class="btn btn-outline-dark" type="button" id="dropdownMenuButton8" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                 <span class="material-symbols-outlined" style="font-size:14px">
                                                     more_horiz
                                                 </span>
                      </button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton8">
                        <a target="_blank" class="dropdown-item" th:href="'/products/'+${el.getId()}+'/edit'">Изменить</a>
                        <a class="dropdown-item" href="#" data-toggle="modal" th:data-target="${'#modal'+el.getId().toString()}">Удалить</a>
                      </div>
                      <div class="modal fade" th:id="${'modal'+el.getId().toString()}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel9" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel9">Подтверждение удаления</h5>
                              <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
                              </button>
                            </div>
                            <div class="modal-body" align="center" >
                              Вы уверены что хотите удалить товар? Это действие нельзя отменить
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                              <form th:action="'/products/'+${el.getId()}+'/del'" method="post">
                                <button type="submit" class="btn btn-danger">
                                                                     <span class="material-symbols-outlined" style="font-size:15px">
                                                                     delete
                                                                     </span>Удалить
                                </button>
                              </form>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            <script th:inline="javascript">document.getElementById("cuntent"+"[[${el.getId()}]]").style.display = "block";</script>
          </div>
        </div>
      </div>


      <div class="categorytitle" th:if="${productstype4size>0 && productstype4!=null && mainpage==true}"  align="center" style="font-size:32px;">
        <div style="height:10px"> </div>
        <a th:if="${!opt}" style="color:black; text-decoration:none;" href="/products/ispar">
          🔋Испарители🔋
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>
        <a th:if="${opt}" style="color:black; text-decoration:none;" href="/products/opt/ispar">
          🔋Испарители🔋
          <span class="material-symbols-outlined" style="vertical-align:middle; font-size:40px">
                        navigate_next
                    </span>
        </a>

        <div style="height:5px"> </div>
      </div>

      <div th:if="${productstype4!=null}">
        <div th:if="${productstype4.size()!=0 && mainpage==true}" class="autoplay">
          <div th:each="el:${productstype4}" class="col tovary">
            <a th:href="@{/products/{id}(id=${el.getId})}" style="text-decoration:none">
              <div th:id="${'cuntent'+el.getId()}" class="card shadow-sm">

                <!--                            <img loading=lazy th:if="${curusname=='anonymousUser'}" th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="" height="200" width="100%" style="object-fit:contain; filter: blur(5px);"/>-->
                <div class="scale">
                  <img loading=lazy  th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="scale" height="200" width="100%" style="object-fit:contain;"/>
                </div>
                <div class="card-body">
                  <div >
                    <div align="left" class="mb-0" th:text="${el.getTitle()}" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; font-size:17px; color:#222222; "></div>
                    <div style="height:5px"> </div>
                    <div align="left" style="white-space: nowrap;">
                      <div style="display:inline-block;">
                        <h5  class="text-dark mb-0" th:text="${el.getPrice()+' ₽  '}" style="white-space: nowrap;"/>
                      </div>
                      <div th:if="${el.getOldprice()!=null}"  style="color:#FF0000; text-decoration: line-through; display:inline-block;">
                        <span th:text="${el.getOldprice()+' ₽'}" style="font-size:14px; color:#777777; "/>
                      </div>
                    </div>
                    <div align="left" th:if="${el.getQuantity()!=null}">
                      <div th:if="${el.getQuantity()==0}">
                        <i class="mb-0" style="font-size:15px; color:#444444; ">Нет в наличии</i>
                      </div>
                      <div th:if="${el.getQuantity()>0}">
                        <i class="mb-0" th:text="${'В наличии: '+el.getQuantity()+' шт.'}" style="font-size:15px; color:#444444; "></i>
                      </div>

                    </div>
                    <div style="height:3px"> </div>

                    <div align="left" style="font-size:16px; color:#222222;">
                      <div th:text="${commrep.findByZapisAndRating(el, true).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#00d10a; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_up
                                        </span>

                      <div th:text="${commrep.findByZapisAndRating(el, false).size()}" style="display:inline-block"></div>
                      <span style="font-size:16px; color:#c40404; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_down
                                        </span>
                    </div>
                    <div style="height:15px"> </div>
                  </div>

                  <a th:if="${el.getQuantity()!=0 && curusname!='anonymousUser'}" type="button" class="btn btn-sm btn-outline-dark" href="#" data-toggle="modal" th:data-target="${'#modalcart'+el.getId().toString()}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                        <span class="material-symbols-outlined" style="font-size:16px;">
                                            shopping_cart
                                        </span>
                    В корзину
                  </a>

                  <a th:if="${el.getQuantity()!=0 && curusname=='anonymousUser' && el.getOptIliRozn()=='rozn'}" th:href="@{/products/{id}/fastorder(id=${el.getId})}" type="button" class="btn btn-sm btn-outline-dark" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                                    <span class="material-symbols-outlined" style="font-size:16px;">
                                                        receipt_long
                                                    </span>
                    Заказать
                  </a>

                  <a type="button" class="btn btn-sm btn-dark" th:href="@{/products/{id}(id=${el.getId})}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px;">
                    Подробнее...
                  </a>

                  <div th:if="${curusname=='admin'}">
                    <div class="dropdown" >
                      <button class="btn btn-outline-dark" type="button" id="dropdownMenuButton9" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                 <span class="material-symbols-outlined" style="font-size:14px">
                                                     more_horiz
                                                 </span>
                      </button>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton9">
                        <a target="_blank" class="dropdown-item" th:href="'/products/'+${el.getId()}+'/edit'">Изменить</a>
                        <a class="dropdown-item" href="#" data-toggle="modal" th:data-target="${'#modal'+el.getId().toString()}">Удалить</a>
                      </div>
                      <div class="modal fade" th:id="${'modal'+el.getId().toString()}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel0" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel0">Подтверждение удаления</h5>
                              <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
                              </button>
                            </div>
                            <div class="modal-body" align="center" >
                              Вы уверены что хотите удалить товар? Это действие нельзя отменить
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                              <form th:action="'/products/'+${el.getId()}+'/del'" method="post">
                                <button type="submit" class="btn btn-danger">
                                                                     <span class="material-symbols-outlined" style="font-size:15px">
                                                                     delete
                                                                     </span>Удалить
                                </button>
                              </form>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            <script th:inline="javascript">document.getElementById("cuntent"+"[[${el.getId()}]]").style.display = "block";</script>
          </div>
        </div>
      </div>

      <div th:if="${specials!=null}" id="specialsdiv">
        <div th:if="${specials.size()>5}" >
          <br>
          <div align="center" style="font-size:32px; ">🔥Скидки🔥</div>
          <br>
          <div class="autoplay" >
            <div th:each="el:${specials}" >
              <a th:href="@{/products/{id}(id=${el.getId})}" style="text-decoration:none">
                <div th:id="${'cuntent'+el.getId()}" class="card shadow-sm">

                  <!--                                <img loading=lazy th:if="${curusname=='anonymousUser'}" th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="" height="200" width="100%" style="object-fit:contain; filter: blur(5px);"/>-->

                  <div class="scale">
                    <img loading=lazy  th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="scale" height="200" width="100%" style="object-fit:contain;"/>
                  </div>
                  <div class="card-body">
                    <div >
                      <div align="left" class="mb-0" id="titul" th:text="${el.getTitle()}" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; font-size:17px; color:#222222; "></div>
                      <div style="height:5px"> </div>
                      <div align="left" style="white-space: nowrap;">
                        <div style="display:inline-block;">
                          <h5  class="text-dark mb-0" th:text="${el.getPrice()+' ₽  '}" style="white-space: nowrap;"/>
                        </div>
                        <div th:if="${el.getOldprice()!=null}"  style="color:#FF0000; text-decoration: line-through; display:inline-block;">
                          <span th:text="${el.getOldprice()+' ₽'}" style="font-size:14px; color:#777777; "/>
                        </div>
                      </div>
                      <div align="left" th:if="${el.getQuantity()!=null}">
                        <div th:if="${el.getQuantity()==0}">
                          <i class="mb-0" style="font-size:15px; color:#444444; ">Нет в наличии</i>
                        </div>
                        <div th:if="${el.getQuantity()>0}">
                          <i class="mb-0" th:text="${'В наличии: '+el.getQuantity()+' шт.'}" style="font-size:15px; color:#444444; "></i>
                        </div>
                      </div>

                      <div style="height:3px"> </div>

                      <div align="left" style="font-size:16px; color:#222222;">
                        <div th:text="${commrep.findByZapisAndRating(el, true).size()}" style="display:inline-block"></div>
                        <span style="font-size:16px; color:#00d10a; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_up
                                        </span>

                        <div th:text="${commrep.findByZapisAndRating(el, false).size()}" style="display:inline-block"></div>
                        <span style="font-size:16px; color:#c40404; display:inline-block; vertical-align:middle;" class="material-symbols-outlined">
                                            thumb_down
                                        </span>
                      </div>

                      <div style="height:15px"> </div>
                    </div>


                    <a th:if="${el.getQuantity()!=0 && curusname!='anonymousUser'}" type="button" class="btn btn-sm btn-outline-dark" href="#" data-toggle="modal" th:data-target="${'#modalcart'+el.getId().toString()}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                                    <span class="material-symbols-outlined" style="font-size:16px;">
                                                        shopping_cart
                                                    </span>
                      В корзину
                    </a>

                    <a th:if="${el.getQuantity()!=0 && curusname=='anonymousUser' && el.getOptIliRozn()=='rozn'}" th:href="@{/products/{id}/fastorder(id=${el.getId})}" type="button" class="btn btn-sm btn-outline-dark" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px; white-space: nowrap; ">
                                                    <span class="material-symbols-outlined" style="font-size:16px;">
                                                        receipt_long
                                                    </span>
                      Заказать
                    </a>

                    <a type="button" class="btn btn-sm btn-dark" th:href="@{/products/{id}(id=${el.getId})}" style="display: inline-block; vertical-align: text-top; margin-bottom:10px; font-size:14px;">
                      Подробнее...
                    </a>

                  </div>
                </div>
              </a>
            </div>
          </div>

        </div>
      </div>
      <script>
            var slickheight=document.getElementById('specialsdiv').style.height;
      </script>



    </div>

      <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.0/slick/slick.min.js"></script>

      <script>
        document.getElementById("loader").style.display = "none";
        document.getElementById("catalogdiv").style.display = "block";
      </script>

      <script type="text/javascript">

                  $('.autoplay').slick({
                  dots: true,
                    infinite: true,
                      slidesToShow: 5,
                      slidesToScroll: 1,
                      autoplay: true,
                      autoplaySpeed: 3500,
                       responsive: [
                        {
                          breakpoint: 1024,
                          settings: {
                            slidesToShow: 3,
                            slidesToScroll: 1,
                            infinite: true,
                            dots: true,
                            autoplay: true,
                              autoplaySpeed: 3500
                          }
                        },
                        {
                          breakpoint: 600,
                          settings: {
                            slidesToShow: 2,
                            slidesToScroll: 1,
                            autoplay: true,
                              autoplaySpeed: 3500
                          }
                        },
                        {
                          breakpoint: 480,
                          settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            autoplay: true,
                              autoplaySpeed: 3500
                          }
                        }
                      ]
                    });

              </script>

  </div>

  <div th:if="${curusname!='anonymousUser'}">
    <div th:each="el:${products}" style="height:0px" >
      <div style="display: inline-block;" >
        <div class="modal fade" th:id="${'modalcart'+el.getId().toString()}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel2">Добавить в корзину</h5>
                <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">
                </button>
              </div>

              <iframe name="dummyframe" id="dummyframe" style="display: none;"></iframe>
              <form onkeydown="return event.key != 'Enter';" th:id="${'myform'+el.getId().toString()}" th:action="'/products/'+${el.getId()}+'/addcart'" th:object="${cart}" method="post" target="dummyframe">
                <div class="modal-body" align="center" >
                  <div class="card shadow-sm">

                    <div class="scale">
                      <img loading=lazy th:src="${el.getPhotoUrl().replace('.png','b.png').replace('.jpg','b.jpg')}" class="scale" height="200" width="100%" style="object-fit:contain; "/>
                    </div>
                    <div class="card-body">
                      <div >
                        <div align="left" class="mb-0" th:text="${el.getTitle()}" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; font-size:17px; color:#222222; "></div>
                        <div style="height:5px"> </div>
                        <div align="left" style="white-space: nowrap;">
                          <div style="display:inline-block;">
                            <h5  class="text-dark mb-0" th:text="${el.getPrice()+' ₽  '}" style="white-space: nowrap;"/>
                          </div>
                          <div th:if="${el.getOldprice()!=null}"  style="color:#FF0000; text-decoration: line-through; display:inline-block;">
                            <span th:text="${el.getOldprice()+' ₽'}" style="font-size:14px; color:#777777; "/>
                          </div>
                        </div>
                        <div align="left" th:if="${el.getQuantity()!=null}">
                          <i class="mb-0" th:text="${'В наличии: '+el.getQuantity()+' шт.'}" style="font-size:15px; color:#444444; "></i>
                        </div>
                        <div style="height:15px"> </div>
                      </div>

                      <div th:if="${el.getColors()!=null}" align="center">
                        <div th:if="${!(el.getColors().isEmpty())}">
                          Вкус/цвет:
                          <select name="colors" id ="colors" class="form-select">
                            <option th:each = "cel:${el.getColors().split(';')}" th:value="${cel}" >
                              <div th:text="${cel}"></div>
                            </option>
                          </select>
                        </div>
                      </div>

                      Количество:
                      <input  type="number" min="1" th:max="${el.getQuantity()}" name="quantity" th:id ="${'quantity'+el.getId().toString()}" placeholder="Количество" value="1" class="form-control" required>
                      <div th:id="${'quanquan'+el.getId().toString()}" style="display:none" th:text="${el.getQuantity()}"></div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                  <button th:id="${'bebra'+el.getId().toString()}" class="btn btn-dark" th:onclick="@{cartsubmit({id})(id=${el.getId})}">
                                <span class="material-symbols-outlined" style="font-size:15px">
                                    shopping_cart
                                </span>
                    Добавить
                  </button>


                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
            function cartsubmit(id){
                if(document.getElementById('quanquan'+id.toString()).innerHTML != ""){
                    if (document.getElementById('quantity'+id.toString()).value>0 && document.getElementById('quantity'+id.toString()).value <= parseInt(document.getElementById('quanquan'+id.toString()).textContent)){
                        document.getElementById('myform'+id.toString()).submit();
                        $('#modalcart'+id.toString()).modal('hide');
                    }
                }
                else if(document.getElementById('quantity'+id.toString()).value>0){
                        document.getElementById('myform'+id.toString()).submit();
                        $('#modalcart'+id.toString()).modal('hide');
                }
            }
        </script>
  </div>

<!--  <div class="modal fade" tabindex="-1" role="dialog" id="ageconfirmmodal" aria-hidden="true">-->
<!--    <div class="modal-dialog" role="document">-->
<!--      <div class="modal-content">-->
<!--        <div class="modal-header">-->
<!--          <h5 class="modal-title" align="center">Предупреждение</h5>-->

<!--        </div>-->
<!--        <div class="modal-body" align="center" >-->
<!--          <div class="card-body">-->
<!--            <div style="font-size:16px">-->
<!--              Данный сайт содержит информацию, не предназначенную для просмотра лицами не достигшими возраста 18 лет.-->

<!--            </div>-->
<!--          </div>-->
<!--          <div class="modal-footer" align="center">-->
<!--            <a type="button" class="btn btn-outline-secondary" href="https://www.google.com/search?q=%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83+%D0%BA%D1%83%D1%80%D0%B8%D1%82%D1%8C+%D1%8D%D0%BB%D0%B5%D0%BA%D1%82%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5+%D1%81%D0%B8%D0%B3%D0%B0%D1%80%D0%B5%D1%82%D1%8B+%D0%B2%D1%80%D0%B5%D0%B4%D0%BD%D0%BE&sxsrf=AJOqlzW-rnjNu3HnJ1geaA33fjbSbx-HiQ%3A1674291606236&ei=lqnLY-uDDs-L9u8P0YCToAs&ved=0ahUKEwjrpsKjptj8AhXPhf0HHVHABLQQ4dUDCA8&uact=5&oq=%D0%BF%D0%BE%D1%87%D0%B5%D0%BC%D1%83+%D0%BA%D1%83%D1%80%D0%B8%D1%82%D1%8C+%D1%8D%D0%BB%D0%B5%D0%BA%D1%82%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5+%D1%81%D0%B8%D0%B3%D0%B0%D1%80%D0%B5%D1%82%D1%8B+%D0%B2%D1%80%D0%B5%D0%B4%D0%BD%D0%BE&gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAzIECAAQRzIECAAQRzIECAAQRzIECAAQRzIECAAQRzIECAAQRzIECAAQRzIECAAQRzoKCAAQRxDWBBCwA0oECEEYAEoECEYYAFCODliODmDsDmgBcAJ4AIABAIgBAJIBAJgBAKABAcgBCMABAQ&sclient=gws-wiz-serp"-->
<!--            >Мне нет 18 лет.</a>-->
<!--            <button type="button" class="btn btn-success" data-dismiss="modal">Мне есть 18 лет.</button>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->


</div>
<br>



<footer th:insert="blocks/footer :: Footer"></footer>
</body>
</html>